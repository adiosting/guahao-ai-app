# 挂号问问 - AI导诊助手

面向移动端的AI导诊Web应用，帮助用户根据症状选择正确的医院科室。

## 功能特性

- **智能对话**：自然语言症状描述，AI理解用户需求
- **医院选择**：支持中日友好医院、北京朝阳医院、北大口腔医院
- **渐进式分析**：4段式AI思考过程，透明化推理流程
- **任务进度可视化**：实时展示分析进度，支持用户信息补充
- **置信度控制**：信息不足时智能阻断，要求用户补充
- **移动端优化**：完全适配移动端，支持触觉反馈

## 技术栈

- **前端框架**：React 18 + TypeScript
- **状态管理**：Zustand
- **样式框架**：Tailwind CSS
- **构建工具**：Vite
- **开发语言**：TypeScript

## 项目结构

```
src/
├── components/          # React组件
│   ├── TaskIndicator.tsx    # 任务进度指示器
│   ├── TaskItem.tsx         # 单个任务项
│   ├── AnalysisStep.tsx     # 分析步骤组件
│   ├── HospitalSelector.tsx # 医院选择组件
│   ├── Message.tsx          # 消息组件
│   ├── ChatSection.tsx      # 对话区域
│   ├── AnalysisSection.tsx  # 分析区域
│   └── Loading.tsx          # 加载组件
├── store/               # 状态管理
│   └── index.ts            # Zustand store
├── types/               # TypeScript类型定义
│   └── index.ts            # 全局类型
├── utils/               # 工具函数
│   └── mobile.ts           # 移动端工具函数
├── App.tsx             # 主应用组件
├── main.tsx            # 入口文件
└── index.css           # 全局样式
```

## 开发指南

### 安装依赖

```bash
npm install
```

### 启动开发服务器

```bash
npm run dev
```

访问 http://localhost:3000 查看应用

### 构建生产版本

```bash
npm run build
```

### 类型检查

```bash
npm run typecheck
```

### 代码检查

```bash
npm run lint
```

## 设计理念

### 单页面渐进式架构

- **对话阶段**：用户选择医院，描述症状
- **分析阶段**：AI进行4段式分析思考
- **结果阶段**：展示科室和医生推荐

### 4段式分析流程

1. **信息汇总**：收集用户症状、病史等信息，评估置信度
2. **医院信息查询**：查询目标医院的科室设置和诊疗范围
3. **医生信息查询**：查询专家团队信息和出诊时间
4. **智能推理分析**：基于收集信息进行科室匹配和医生推荐

### 任务进度指示器

- ○ 等待状态：灰色空心圆
- ◔ 进行中：蓝色圆环，顺时针填充显示进度
- ✅ 已完成：绿色圆形背景 + 白色对勾
- ⚠️ 需补充：橙色圆形背景 + 白色感叹号
- ❌ 失败：红色圆形背景 + 白色叉号

## 移动端优化

- **安全区域适配**：支持刘海屏和底部指示器
- **触控优化**：44px最小触控目标，触觉反馈
- **滚动优化**：支持惯性滚动，边界回弹
- **性能优化**：虚拟滚动，骨架屏，懒加载
- **防缩放**：禁用双击缩放，防止iOS橡皮筋效果

## 浏览器兼容性

- iOS Safari >= 13.0
- Android Chrome >= 80.0
- 微信内置浏览器最新版本

## 开发规范

- 使用TypeScript严格模式
- 遵循React Hooks最佳实践
- 使用函数式组件
- 状态管理采用Zustand
- 样式采用Tailwind CSS utility classes
- 移动端优先的响应式设计

## 性能指标

- 首屏加载时间 < 2秒
- 页面切换时间 < 300ms
- 内存使用 < 100MB (移动端)

## 许可证

MIT License